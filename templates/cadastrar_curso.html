<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cadastro de Curso</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <style>
    :root{
      /* Paleta Ambipar */
      --ambipar-bg:#c1f38e;         /* fundo geral */
      --primary:#a0e76d;            /* botões */
      --primary-hover:#8dd24a;
      --surface:#ffffff;
      --border:#e2e8f0;
      --text:#1f2937;
      --muted:#64748b;
      --shadow:0 8px 22px rgba(0,0,0,.08);
      --radius:16px;
      --radius-sm:12px;
    }

    *{box-sizing:border-box;margin:0;padding:0}
    body{
      font-family:'Poppins',sans-serif;
      min-height:100vh;
      background:var(--ambipar-bg);
      color:var(--text);
      display:grid;
      grid-template-columns:260px 1fr;  /* === posição igual EADFLOW: sidebar + conteúdo === */
      gap:22px;
    }

    /* --- Sidebar (esquerda), com logo Ambipar e dois botões existentes --- */
    .sidebar{
      background:var(--surface);
      border-right:1px solid var(--border);
      padding:18px 16px;
      display:flex;flex-direction:column;gap:18px;
    }
    .brand{
      display:flex;align-items:center;gap:10px;
      padding:8px 10px;border:1px solid var(--border);
      border-radius:12px;background:#f7fff0;
    }
    .brand img{height:28px;width:auto;display:block}
    .brand span{font-weight:700;font-size:14px}

    .side-card{
      background:var(--surface);
      border:1px solid var(--border);
      border-radius:var(--radius-sm);
      box-shadow:var(--shadow);
      padding:16px;
      display:flex;flex-direction:column;gap:10px;
    }
    .side-card h4{font-size:14px;font-weight:600;text-align:center;margin-bottom:4px}

    .btn{
      width:100%;
      display:inline-flex;align-items:center;justify-content:center;
      padding:10px 14px;border:none;border-radius:10px;
      background:var(--primary);color:#2b2b2b;font-weight:600;
      cursor:pointer;text-decoration:none;transition:.15s ease;
    }
    .btn:hover{background:var(--primary-hover)}
    .btn.secondary{
      background:#eef2f6;color:#111;border:1px solid var(--border);
    }
    /* (sem criar novos botões além dos existentes) */

    /* --- Conteúdo (direita) --- */
    .content{
      padding:22px 22px 40px 0;
      max-width:1200px;
    }
    .breadcrumb{
      font-size:12px;color:var(--muted);margin:6px 0 12px;text-align:right;
    }
    .page-title{
      font-size:26px;font-weight:700;margin-bottom:14px;color:#213547;
    }

    .card{
      background:var(--surface);
      border:1px solid var(--border);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:20px;
    }
    .card h3{font-size:18px;margin-bottom:12px}

    /* Grid igual ao EADFLOW: 2 colunas nos campos de topo */
    .grid{display:grid;gap:14px}
    .grid.cols-2{grid-template-columns:1fr 1fr}
    @media (max-width:980px){ body{grid-template-columns:1fr} .grid.cols-2{grid-template-columns:1fr} }

    /* Campos (reaproveitando seu estilo) */
    .field{display:flex;flex-direction:column;gap:8px}
    .field label{font-weight:600;font-size:14px;color:#444}
    .field input[type="text"],
    .field select,
    .field textarea,
    .field input[type="file"]{
      padding:10px;border:1px solid #ccc;border-radius:6px;font-size:14px;color:#333;background:#fff;
    }
    .field textarea{min-height:120px;resize:vertical}

    /* Seções Módulos e Avaliação (como no seu) */
    .section-title{font-size:18px;font-weight:700;color:#333;margin:18px 0 10px}
    #modulos .modulo{
      background:#f9f9f9;border:1px solid #ddd;border-radius:8px;padding:15px;margin-bottom:12px;
    }
    .modulo .top-row{
      display:grid;grid-template-columns:1fr auto;gap:10px;align-items:start;
    }
    .btn-danger{background:#dc3545;color:#fff;border:none;border-radius:8px;padding:8px 10px;font-weight:600;cursor:pointer}
    .btn-danger:hover{background:#b02a37}

    #perguntas .pergunta{
      background:#f9f9f9;border:1px solid #ddd;border-radius:8px;padding:15px;margin-bottom:10px;
    }
    .pergunta .header-pergunta{
      display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;
    }

    .actions{display:flex;gap:12px;flex-wrap:wrap;margin-top:18px}
    .actions .btn{flex:1}
  </style>
</head>
<body>

  <!-- === SIDEBAR (posicionamento do EADFLOW) === -->
  <aside class="sidebar">
    <div class="brand">
      <img src="<?= htmlspecialchars($logoPath) ?>" alt="Ambipar" onerror="this.style.display='none'">
      <span>Ambipar EAD</span>
    </div>

    <div class="side-card">
      <h4>Painel do Professor</h4>
      <!-- Links FUNCIONAIS (não mais botões sem ação) -->
      <a class="btn" href="<?= htmlspecialchars($rotaAlterarSenha) ?>">Alterar Senha</a>
      <a class="btn secondary" href="<?= htmlspecialchars($rotaHomeProfessor) ?>">Home do Professor</a>
    </div>
  </aside>

  <!-- === CONTEÚDO === -->
  <main class="content">
    <div class="breadcrumb">Início / Professor / Cadastro de Curso</div>
    <div class="page-title">Cadastro de Curso</div>

    <section class="card">
      <h3>Informações do Curso</h3>

      <form method="post" enctype="multipart/form-data">
        <div class="grid cols-2">
          <div class="field">
            <label for="nome">Nome do Curso</label>
            <select id="nome" name="nome" required onchange="preencherConteudo()">
              <option value="">-- Selecione --</option>
              <option value="Doutrinamento Básico de Solo">Doutrinamento Básico de Solo</option>
              <option value="Conhecimentos Gerais">Conhecimentos Gerais</option>
              <option value="Emergências Gerais">Emergências Gerais</option>
              <option value="SGSO">SGSO</option>
              <option value="Transporte Aeromédico">Transporte Aeromédico</option>
              <option value="Sobrevivência na Selva">Sobrevivência na Selva</option>
              <option value="Instrutor de Voo">Instrutor de Voo</option>
              <option value="Examinador">Examinador</option>
              <option value="BELL 206-B06">BELL 206-B06</option>
              <option value="AS350 SERIES-B,BA,B2,AS50">AS350 SERIES-B,BA,B2,AS50</option>
              <option value="AS 365 SERIES (N,N1,N2)/AS65">AS 365 SERIES (N,N1,N2)/AS65</option>
              <option value="AS 355 SERIES (F,F1,F2,NP)/AS55">AS 355 SERIES (F,F1,F2,NP)/AS55</option>
              <option value="AS330J">AS330J</option>
              <option value="AS350B-BA">AS350B-BA</option>
              <option value="AS350B2-B3">AS350B2-B3</option>
              <option value="Arriel1 Series">Arriel1 Series</option>
              <option value="RR250-C20 Series">RR250-C20 Series</option>
              <option value="AS355 Series">AS355 Series</option>
              <option value="Treinamento Solo AS350">Treinamento Solo AS350</option>
              <option value="Treinamento Solo BH06">Treinamento Solo BH06</option>
              <option value="Treinamento Solo AS355">Treinamento Solo AS355</option>
            </select>
          </div>

          <div class="field">
            <label for="carga_horaria">Carga Horária</label>
            <input type="text" id="carga_horaria" name="carga_horaria" required>
          </div>

          <div class="field" style="grid-column:1/-1">
            <label for="conteudo">Conteúdo Programático</label>
            <textarea id="conteudo" name="conteudo" required></textarea>
          </div>
        </div>

        <div class="section-title">Módulos do Curso</div>
        <div id="modulos"></div>
        <button type="button" class="btn" onclick="adicionarModulo()">+ Adicionar Módulo</button>

        <div class="section-title">Avaliação</div>
        <div id="perguntas"></div>
        <button type="button" id="adicionarPergunta" class="btn">+ Adicionar Pergunta</button>

        <div class="actions">
          <input type="submit" class="btn" value="Cadastrar Curso">
          <a class="btn secondary" href="<?= htmlspecialchars($rotaHomeProfessor) ?>">Cancelar</a>
        </div>
      </form>
    </section>
  </main>

  <script>
    // ===== Conteúdos (mantidos do seu código) =====
    const conteudos = {
      "Doutrinamento Básico de Solo": `(1) Atribuições e responsabilidades do tripulante, conforme aplicável;
(2) As apropriadas provisões deste regulamento;
(3) Conteúdo do certificado e das especificações operativas;
(4) Apropriadas partes do manual geral da empresa do detentor de certificado;
(5) O transporte seguro de artigos perigosos por via aérea, em conformidade com os requisitos do RBAC N° 175;
(6) O SGSO;
(7) Segurança da aviação civil (AVSEC);
(8) Fatores humanos e CRM`,
      "Conhecimentos Gerais": `(1) Procedimentos do detentor de certificado para liberação e localização de voos;
(2) Princípios e métodos para determinar peso e balanceamento e limitações de pista para decolagem pouso;
(3) princípios e métodos para determinar peso e balanceamento e limitações de pista para decolagem e pouso
(4) sistemas de controle de tráfego aéreo, procedimentos e fraseologia;
(5) navegação e uso de auxílios à navegação, incluindo procedimentos de aproximação por instrumentos;
(6) procedimentos de comunicações normais e de emergência;
(7) familiarização com referências visuais antes e durante a descida abaixo da altitude de decisão ou da altitude mínima de descida em aproximação por instrumento;
(8) reconhecer e evitar condições atmosféricas severas;
(9) livrar-se de condições atmosféricas severas, no caso de elas serem encontradas inadvertidamente, incluindo, para aviões, tesouras de vento em baixa altitude;
(10) operar dentro ou perto de tempestades (incluindo melhor altitude de penetração), ar turbulento(inclusive turbulência de céu claro), gelo, granizo e outras condições meteorológicas potencialmente perigosas e planejamento de voo.`,
      /* ... demais conteúdos que você já tinha ... */
    };

    function preencherConteudo(){
      const nome = document.getElementById('nome').value;
      document.getElementById('conteudo').value = conteudos[nome] || '';
    }

    // ===== Módulos (mesma lógica do seu) =====
    let indexModulo = 0;
    function adicionarModulo(){
      const container = document.getElementById("modulos");
      const div = document.createElement("div");
      div.classList.add("modulo");
      div.innerHTML = `
        <div class="top-row">
          <div>
            <label>Título do Módulo:</label>
            <input type="text" name="modulos[${indexModulo}][titulo]" required>
            <label style="margin-top:8px;">Arquivo (PDF):</label>
            <input type="file" name="modulos[${indexModulo}][arquivo]" accept=".pdf" required>
          </div>
          <button type="button" class="btn-danger" onclick="this.closest('.modulo').remove()">Remover Módulo</button>
        </div>
      `;
      container.appendChild(div);
      indexModulo++;
    }

    // ===== Perguntas (mesma lógica do seu) =====
    let indicePergunta = 0;
    document.getElementById('adicionarPergunta').addEventListener('click', () => {
      const container = document.getElementById('perguntas');
      const div = document.createElement('div');
      div.classList.add('pergunta');
      div.innerHTML = `
        <div class="header-pergunta">
          <strong>Pergunta ${indicePergunta + 1}</strong>
          <button type="button" class="btn-danger" onclick="this.closest('.pergunta').remove()">Remover Pergunta</button>
        </div>

        <label>Enunciado:</label>
        <input type="text" name="perguntas[${indicePergunta}][enunciado]" required>

        <label>a)</label>
        <input type="text" name="perguntas[${indicePergunta}][a]" required>

        <label>b)</label>
        <input type="text" name="perguntas[${indicePergunta}][b]" required>

        <label>c)</label>
        <input type="text" name="perguntas[${indicePergunta}][c]" required>

        <label>d)</label>
        <input type="text" name="perguntas[${indicePergunta}][d]" required>

        <label>Alternativa correta:</label>
        <select name="perguntas[${indicePergunta}][correta]" required>
          <option value="a">a</option>
          <option value="b">b</option>
          <option value="c">c</option>
          <option value="d">d</option>
        </select>
      `;
      container.appendChild(div);
      indicePergunta++;
    });
  </script>
</body>
</html>
