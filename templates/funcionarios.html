<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Gerenciar Funcionários</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
<style>
body{
  background:#c1f38e;
  font-family:Poppins,sans-serif;
  padding:30px;
}
.card{
  background:#fff;
  padding:25px;
  border-radius:14px;
  max-width:1100px;
  margin:auto;
  box-shadow:0 10px 25px rgba(0,0,0,.1);
}
h2{text-align:center;margin-bottom:20px}
table{
  width:100%;
  border-collapse:collapse;
}
th,td{
  padding:12px;
  border-bottom:1px solid #ddd;
  text-align:left;
}
th{
  background:#f3f3f3;
}
.actions a, .actions form{
  display:inline-block;
}
.actions a{
  margin-right:8px;
  text-decoration:none;
  font-weight:600;
}
.btn-edit{color:#2563eb}
.btn-del{
  color:#b91c1c;
  background:none;
  border:none;
  cursor:pointer;
  font-weight:600;
}
.top{
  display:flex;
  justify-content:space-between;
  margin-bottom:15px;
}
.back{
  text-decoration:none;
  font-weight:600;
}
</style>
</head>

<body>
<div class="card">
  <div class="top">
    <h2>Funcionários Cadastrados</h2>
    <a class="back" href="/">← Voltar</a>
  </div>

  <table>
    <thead>
      <tr>
        <th>Nome</th>
        <th>Email</th>
        <th>Tipo</th>
        <th>Categoria</th>
        <th>Ações</th>
      </tr>
    </thead>
    <tbody>
      {% for email, u in usuarios.items() %}
        {% if u.tipo == "aluno" %}
        <tr>
          <td>{{ u.nome }}</td>
          <td>{{ email }}</td>
          <td>{{ u.tipo }}</td>
          <td>{{ u.categoria or '-' }}</td>
          <td class="actions">
            <a class="btn-edit" href="/funcionarios/editar/{{ email }}">Editar</a>
            <form method="post" action="/funcionarios/excluir/{{ email }}" onsubmit="return confirm('Excluir este funcionário?');">
              <button class="btn-del">Excluir</button>
            </form>
          </td>
        </tr>
        {% endif %}
      {% endfor %}
    </tbody>
  </table>
</div>
</body>
</html>
